<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Voice message demo</title>
    <!--
        BOOTSTRAP
    -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    <!--
        SENDBIRD
    -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sendbird/3.0.149/SendBird.min.js" referrerpolicy="no-referrer"></script>
</head>
<body>
    <div class="container mt-4 text-center" style="width:300px;">

        <!--
            CONNECT
        -->
        <div class="card">
            <div class="card-header">
                Audio message with Sendbird
            </div>
            <div class="card-body">
                <!--
                    Your sendbird application here
                -->
                <input type="text" class="form-control mt-2" placeholder="Your application ID..." id="appId" />
                <!--
                    Any of your user id here
                -->
                <input type="text" class="form-control mt-2" placeholder="Any User ID..." id="userId" />
                <!--
                    any of your channel url here
                -->
                <input type="text" class="form-control mt-2" placeholder="Any Channel URL..." id="channelUrl" />
                <!--
                    BUTTON TO CONNECT TO CHAT
                -->
                <button class="btn btn-primary mt-2" onclick="connect()" id="butConnect">
                    Connect
                </button>        
            </div>
            <div class="card-footer text-center" id="recordingArea" style="display:none">
                <!--
                    Button to record an audio
                -->
                <button class="btn btn-success mt-2" onclick="record()" id="butStartRecording">
                    Click to record
                </button>
                <!--
                    Button to stop recording audio and send message
                -->
                <button class="btn btn-danger mt-2" onclick="stop()" id="butStopRecording" style="display:none">
                    Stop recording and send message! 
                </button>
            </div>
        </div>

        <!--
            NEW AUDIO MESSAGE ARRIVED
        -->
        <div class="card mt-4" id="cardListenMessages" style="display:none">
            <div class="card-header">
                Audio message
            </div>
            <div class="card-body">
                <p>
                    There's an audio message ready to play.
                </p>
                <!--
                    Button to play audio when arrives
                -->
                <button class="btn btn-primary mt-2" onclick="playAudioFromMessage()">
                    Play
                </button>
            </div>
        </div>
    </div>
    <!--
        LOCAL SCRIPT
    -->
    <script src="index.js"></script>
</body>
</html>